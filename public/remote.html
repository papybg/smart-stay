<!DOCTYPE html>

<html lang="bg">

<head>

    <meta charset="UTF-8">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Smart Stay Control</title>

    <style>

        body {

            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;

            background-color: #1a1a1a;

            color: white;

            display: flex;

            flex-direction: column;

            align-items: center;

            justify-content: center;

            height: 100vh;

            margin: 0;

        }

        h1 {

            margin-bottom: 40px;

            font-size: 1.5rem;

            color: #ccc;

        }

        .power-btn {

            width: 200px;

            height: 200px;

            border-radius: 50%;

            border: none;

            background: linear-gradient(145deg, #2e2e2e, #1a1a1a);

            box-shadow:  5px 5px 10px #0b0b0b, -5px -5px 10px #3d3d3d;

            color: #00ff88;

            font-size: 1.2rem;

            font-weight: bold;

            cursor: pointer;

            transition: all 0.3s ease;

            text-transform: uppercase;

            outline: none;

        }

        .power-btn:active {

            box-shadow: inset 5px 5px 10px #0b0b0b, inset -5px -5px 10px #3d3d3d;

            color: #00cc6a;

        }

        .power-btn:disabled {

            color: #555;

            background: #222;

            cursor: not-allowed;

            box-shadow: none;

        }

        .status {

            margin-top: 30px;

            height: 20px;

            font-size: 0.9rem;

            color: #888;

        }

    </style>

</head>

<body>



    <h1>SMART STAY REMOTE</h1>



    <button id="btn" class="power-btn" onclick="togglePower()">

        POWER

    </button>



    <div id="status" class="status">Готовност за работа</div>



    <script>

        async function togglePower() {

            const btn = document.getElementById('btn');

            const statusText = document.getElementById('status');



            // 1. Заключваме бутона, за да не се цъка двойно

            btn.disabled = true;

            statusText.innerText = "Изпращане на сигнал...";

            btn.style.color = "orange";



            try {

                // 2. Викаме твоя Render сървър

                const response = await fetch('https://smart-stay.onrender.com/toggle');

                

                // 3. Чакаме отговора

                const message = await response.text();

                

                // 4. Показваме резултата

                statusText.innerText = "Успех!";

                alert(message.replace(/<[^>]*>?/gm, '')); // Маха HTML таговете за чист текст



            } catch (error) {

                console.error(error);

                statusText.innerText = "Грешка при връзката!";

                alert("Сървърът не отговаря. Провери интернет връзката.");

            }



            // 5. Отключваме бутона отново

            btn.disabled = false;

            btn.style.color = "#00ff88";

            setTimeout(() => { statusText.innerText = "Готовност за работа"; }, 3000);

        }

    </script>



</body>

</html>